<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Portrait Studio Pro | Dimitri P. Voytan </title> <meta name="author" content="Dimitri P. Voytan"> <meta name="description" content="Behind the scenes of my full stack ML application."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?8e1a2f122171524c3530b1273080350d"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://dimitri-voytan.github.io/projects/portrait_studio_pro/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Dimitri</span> P. Voytan </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Portrait Studio Pro</h1> <p class="post-description">Behind the scenes of my full stack ML application.</p> </header> <article> <image></image> <h2 id="introduction">Introduction</h2> <p>If you’re chasing a polished LinkedIn photo but can’t spare an afternoon at a studio, AI headshots feel almost magical. The premise is straightforward: fine-tune a diffusion model on a small batch of your selfies, then let the network re-imagine you under flattering lights, crisp backdrops, and perfectly-pressed suits. With <a href="https://www.proaiheadshot.com" rel="external nofollow noopener" target="_blank">Portrait Studio Pro</a>, I turned that idea into a full-fledged web application that delivers more than 120 portraits in under two hours.</p> <p>My own journey to that point was hardly instant. I cycled through half-a-dozen model architectures, hosting providers, and user flows before the pieces finally clicked. Along the way, competitors like Danny Postma’s HeadshotPro, Levels.io’s PhotoAI, and venture-backed Aragorn AI appeared on the radar. Far from discouraging me, their presence signaled genuine demand—“friendly competition” that forced better engineering decisions week after week.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <div class="w-50 mx-auto"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/portrait_studio_pro/hero_pic.webp" sizes="95vw"></source> <img src="/assets/img/projects/portrait_studio_pro/hero_pic.webp" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> </div> <div class="caption"> Examples of headshots generated from the app (first version) </div> <h2 id="building-the-stack">Building the Stack</h2> <p>I started by building out front end. I prototyped a layout in Figma and then coded it up with Next.js. I chose the App Router version of Next.js, which renders pages on the server by default. Client-side interactivity is opt-in: at the top of a file you add <code class="language-plaintext highlighter-rouge">use client</code> string to make React hooks like <code class="language-plaintext highlighter-rouge">useState</code> behave as expected. It felt a little quirky at first, but I adapted. At the time, the App Router version was brand new, so AI models were very unhelpful, having a tendency to use Page Router schema. The first version of the frontend took a couple of evenings to flesh out.</p> <p>The backend is entirely Firebase. User profiles and order metadata sit in Cloud Firestore, while raw selfies and generated headshots rest in Cloud Storage. A fleet of TypeScript Cloud Functions orchestrates the rest: Stripe checkout, webhook processing, email reminders, and the heavy-duty job queue that triggers model training and inference. SendGrid handles the mailouts.</p> <p>The machine-learning pipeline was the most comfortable piece for me to build. At a high level, every uploaded image passes through a pipeline: face detection, rotation correction, gender detection, brightness and blur checks, and a light histogram adjustment to even out exposure. Once an image set clears quality control, I do a LoRA fine-tuning of a flow-based generative model. Inspired by the DreamBooth recipe, the model learns a new token e.g. “photo of ohwx man”while staying anchored by generic regularization prompts and images such as “photo of a man.”</p> <p>To tune hyperparameters of the model, I build a dataset of people including my own face, my wife’s, obliging friends, even a few public-domain celebrities. Early models used convolution-based architectures based on Stable Diffusion. I found that LoRA of these models led to blurrier and smoother photos than full fine tuning, so these models did a full-parameter fine tune. The hyperparameters were a bit challenging, because it was easy for the model to collapse under all but very modest learning rates. Later models, with a transformer-based architecture, were fine with LoRa and produced better images. After running experiments, I found a LoRA rank, learning-rate schedule, and number of training steps that produced reasonably consistent result across the dataset. I didn’t use any specific metrics, I just ranked outputs by my personal preference.</p> <p>For Stable-Diffusion models, prompt engineering was really important, for example, positive prompts read:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>professional headshot of ohwx man, standing in a modern office lobby, wearing a black suit and white shirt, 4K UHD, bokeh lighting, high detail, sharp focus
</code></pre></div></div> <p>and negative prompts:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lowres, bad anatomy, bad hands, signature, watermarks, ugly, imperfect eyes, skewed eyes, unnatural face, unnatural body, error, extra limb, missing limbs
</code></pre></div></div> <p>On the other hand, Transformer based models worked really well without extensive prompt engineering</p> <p>To serve the inference pipeline, I started by using google cloud batch, but quickly ran into a lot of issues. For example, my GPU quota was set to 1 and I couldn’t get approval for more than one concurrent GPU, so jobs backed up in the queue and were timing out. The retry mechanism then introduced some bug I never figured out; it provisioned disk-usage quota on each retry (even before the vm instance launched) and I ran into a Zone Resources Exhausted problem (due to the growing disk quota that was never really used). I gave up trying to figure this out and switched to containerized model for deployment on Replicate via the Cog toolkit. Replicate offers serverless GPUs inference, and cog made it fairly straightforward. I did have to crack open the generated Dockerfile to manually tweak some <code class="language-plaintext highlighter-rouge">c</code> libraries, but once that hurdle was cleared, everything flowed with almost no friction.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/portrait_studio_pro/downtown-480.webp 480w,/assets/img/projects/portrait_studio_pro/downtown-800.webp 800w,/assets/img/projects/portrait_studio_pro/downtown-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/projects/portrait_studio_pro/downtown.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Downtown Style" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/portrait_studio_pro/blue-480.webp 480w,/assets/img/projects/portrait_studio_pro/blue-800.webp 800w,/assets/img/projects/portrait_studio_pro/blue-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/projects/portrait_studio_pro/blue.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Blue Style" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/projects/portrait_studio_pro/woods-480.webp 480w,/assets/img/projects/portrait_studio_pro/woods-800.webp 800w,/assets/img/projects/portrait_studio_pro/woods-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/projects/portrait_studio_pro/woods.jpeg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Woods Style" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Examples of various styles available to select from. </div> <h2 id="launching">Launching</h2> <p>I learned quickly just how hard and time-consuming marketing is, so I kept this part short. For SEO, I did basic keyword research and created handful of geo-targeted landing pages ( e.g. “Professional Headshots Houston” for several locales in the US and Canada). After some time this led to some organic trickle. A brief Google Ads experiment converted at roughly three percent. This was solid until cost-per-click ballooned as the niche heated up. Surprisingly, the best traffic came from a paid listing on an AI-tools directory, where visitors arrived already “bottom-of-funnel.”</p> <p>Google Analytics tracked every step from upload to checkout, while a modest email drip coaxed fence-sitters back with escalating discounts. Those three touches—after one hour, one day, and two days—turned enough “maybes” into paying customers.</p> <h2 id="lessons-learned">Lessons Learned</h2> <p>I learned alot about frontend development with React, Next.js and tailwind.css. I learned a fair bit about cloud computing. Firebase proved an ideal launch-pad: no servers to babysit, no manual TLS, no schema migrations—just ship. Over the long haul, the convenience tax may push core services onto cheaper or faster rails, but for version one it was perfect.</p> <p>On the ML side, I learned about DreamBooth-style fine-tuning and LoRA. These are useful when data is scarce. A dozen well-lit selfies are genuinely enough to anchor identity, provided you guard your learning rate. A lightweight five-star ranking UI trumped any attempt at automated metrics; sometimes “vibe-checking” really is the best-available science.</p> <h2 id="closing-thoughts">Closing Thoughts</h2> <p>From a handful of smartphone selfies to a gallery of studio-quality portraits, <a href="https://www.proaiheadshot.com" rel="external nofollow noopener" target="_blank">Portrait Studio Pro</a> blends fast ML with no-nonsense product design. The stack will evolve—edge inference, instant previews, maybe even short video captures—but the current system already delights customers and pays its way.</p> <p>If you’re eyeing a similar project, focus on rock-solid preprocessing, treat prompt engineering as a first-class citizen, and never underestimate the power of a single well-timed email. The technology is cutting-edge; the fundamentals of good user experience are as old as photography itself.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Dimitri P. Voytan. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: June 07, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-projects",title:"projects",description:"A selection of professional and personal projects I've been working on.",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"post-are-fourier-neural-operators-really-faster",title:"Are Fourier Neural Operators Really Faster?",description:"I challenge the performance benefits of Fourier Neural Operators, particularly for linear wave propagation problems",section:"Posts",handler:()=>{window.location.href="/blog/2025/fno-seismic/"}},{id:"news-a-simple-inline-announcement",title:"A simple inline announcement.",description:"",section:"News"},{id:"news-a-long-announcement-with-details",title:"A long announcement with details",description:"",section:"News",handler:()=>{window.location.href="/news/announcement_2/"}},{id:"news-a-simple-inline-announcement-with-markdown-emoji-sparkles-smile",title:'A simple inline announcement with Markdown emoji! <img class="emoji" title=":sparkles:" alt=":sparkles:" src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png" height="20" width="20"> <img class="emoji" title=":smile:" alt=":smile:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" height="20" width="20">',description:"",section:"News"},{id:"projects-portrait-studio-pro",title:"Portrait Studio Pro",description:"Behind the scenes of my full stack ML application.",section:"Projects",handler:()=>{window.location.href="/projects/portrait_studio_pro/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%64%69%6D%69%74%72%69%76%6F%79%74%61%6E@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-linkedin",title:"LinkedIn",section:"Socials",handler:()=>{window.open("https://www.linkedin.com/in/dvoytan","_blank")}},{id:"socials-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/feed.xml","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>